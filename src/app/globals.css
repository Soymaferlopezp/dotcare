@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Base y A11y (se mantiene) === */
@layer base {
  :root { --radius: 12px; }

  body {
    font-family: var(--font-sans), system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    @apply bg-ink text-text;
  }

  h1, h2, h3 {
    font-family: var(--font-display), var(--font-sans), system-ui, sans-serif;
  }

  code, kbd, samp, pre, .font-mono {
    font-family: var(--font-mono), ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  }

  main > section { @apply border-b border-border px-5 py-8; }

  /* ❌ Sin subrayado global */
  a { text-decoration: none; }

  :focus-visible { @apply outline-none ring-2 ring-emerald ring-offset-2 ring-offset-ink; }
}

/* Skip link (igual) */
.skip-link { position:absolute; left:8px; top:-40px; padding:8px 12px; border-radius:10px;
  border:1px solid var(--border); background:var(--panel); color:var(--text); z-index:1000; transition:top .15s ease; }
.skip-link:focus { top:8px; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation:none !important; transition:none !important; scroll-behavior:auto !important; }
}

/* === Componentes utilitarios === */
@layer components {
  /* Pill de navegación */
  .nav-pill {
    @apply rounded-xl border border-transparent px-3 py-1.5 text-sm text-muted transition;
  }
  .nav-pill:hover {
    @apply border-border bg-panel text-text;
  }
  .nav-pill-active {
    @apply border-border bg-panel text-text;
  }
}

.cta-swap:has(.demo:hover),
.cta-swap:has(.demo:focus-visible) { /* selector de control */ }

.cta-swap:has(.demo:hover) .cta-primary,
.cta-swap:has(.demo:focus-visible) .cta-primary {
  box-shadow: none !important;
}

@layer components {
  .dc-card {
    @apply rounded-2xl border bg-white border-zinc-200 shadow-sm dark:bg-zinc-900/60 dark:border-zinc-800;
  }

  .dc-divider {
    @apply h-px bg-zinc-200 dark:bg-zinc-800;
  }

  .dc-input {
    @apply w-full rounded-xl border bg-white px-3 py-2 outline-none transition
           border-zinc-300 dark:border-zinc-700 dark:bg-transparent;
  }
  .dc-input:focus {
    /* usamos tu token de marca */
    border-color: var(--emerald);
    outline: 2px solid transparent; /* para accesibilidad sin tailwind ring */
    box-shadow: 0 0 0 2px color-mix(in oklab, var(--emerald) 50%, transparent);
  }

  .dc-btn {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-2 font-semibold transition;
  }

  /* Botón primario con tus tokens (no Tailwind colors) */
  .dc-btn-primary {
    background-color: var(--emerald);
    color: #fff;
    box-shadow: 0 1px 2px rgb(0 0 0 / 0.08);
  }
  .dc-btn-primary:hover {
    filter: brightness(1.05);
  }
  .dc-btn-primary:active {
    filter: brightness(0.98);
  }
  .dc-btn-primary:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
  .dc-btn-primary:focus-visible {
    outline: 2px solid var(--emerald);
    outline-offset: 2px;
  }
}
